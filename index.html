<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="whole">
        <div class="top-row">
            <select class="btn" id="gridNumber" onchange="createGrid(value)">
                <option value="4">4x4</option>
                <option value="9">9x9</option>
                <option value="16">16x16</option>
                <option value="25">25x25</option>
                <option value="36">36x36</option>
                <option value="49">49x49</option>
                <option value="64">64x64</option>
            </select>
            <button class="btn" onclick="reset()">Reset</button>
            <button class="btn" onclick="registerBoxes()">B&W</button>
            <button class="btn" onclick="rainbow()">Colors</button>
        </div>
        
        <div id="container">
    
        </div>    

    </div>

    


<script>

    createGrid();
    // const gridNumber = document.querySelector("#gridNumber");
    // gridNumber.addEventListener("change", console.log("changed"));
    
    function createGrid (num = 4){
        // delete the grid
        const container = document.querySelector("#container");
        while (container.hasChildNodes()) {
            container.removeChild(container.lastChild)
        }

        //loop to create the grid
        for (let i = 0; i < num; i++) {
            const div = document.createElement("div");
            div.classList.add("row");
            div.setAttribute("id", `row${i}`);
            document.querySelector("#container").appendChild(div);
            for (let j = 0; j < num; j++) {
                const div = document.createElement("div");
                div.classList.add("little-box");
                document.querySelector(`#row${i}`).appendChild(div);
            }  
        }
        registerBoxes();
    }
        
    function registerBoxes() {
        const boxes = document.querySelectorAll(".little-box");
        boxes.forEach(box => box.addEventListener("mouseover", () => {
        box.style.backgroundColor = "#000";
    }))
    }
    
    function reset () {
        const boxes = document.querySelectorAll(".little-box");
        boxes.forEach(box => box.classList.remove("active"));
        boxes.forEach(box => box.style.backgroundColor = "#fff");

    }
    
    function rainbow() {
        const boxes = document.querySelectorAll(".little-box");
        boxes.forEach(box => box.addEventListener("mouseover", () => {
        box.style.backgroundColor = `rgb(${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)})`;
        console.log(Math.random());
    }))
    }
</script>


</body>
</html>